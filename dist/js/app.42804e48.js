(function(){"use strict";var t={4868:function(t,n,r){var i=r(9242),e=r(3396);function s(t,n,r,i,s,o){const a=(0,e.up)("VMain");return(0,e.wg)(),(0,e.j4)(a)}function o(t,n,r,i,s,o){const a=(0,e.up)("VCalculator");return(0,e.wg)(),(0,e.j4)(a)}const a={class:"v-calculator"},l={class:"v-calculator__top"},u={class:"v-calculator__bottom"},c={class:"v-calculator__num-block"},h={class:"v-calculator__math-block"};function d(t,n,r,i,s,o){const d=(0,e.up)("VCalcField"),m=(0,e.up)("VCalcNumButton"),g=(0,e.up)("VCalcMathButton");return(0,e.wg)(),(0,e.iD)("div",a,[(0,e._)("div",l,[(0,e.Wm)(d,{mathString:s.mathString,history:s.history},null,8,["mathString","history"])]),(0,e._)("div",u,[(0,e._)("div",c,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(s.config.numButtons,((t,n)=>((0,e.wg)(),(0,e.j4)(m,{number:t,key:n,disabled:o.numDisabled,onOnClick:o.addSymbolToString},null,8,["number","disabled","onOnClick"])))),128))]),(0,e._)("div",h,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(s.config.mathButtons,((t,n)=>((0,e.wg)(),(0,e.j4)(g,{button:t,key:n,disabled:o.mathDisabled,onOnClick:o.addSymbolToString},null,8,["button","disabled","onOnClick"])))),128))])])])}var m=r(7139);const g={class:"v-calc-field"},f={class:"history"},v={class:"string"},b={class:"result"},p={class:"math-string",ref:"mathContainer"};function S(t,n,r,i,s,o){return(0,e.wg)(),(0,e.iD)("div",g,[(0,e._)("div",f,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(r.history,(t=>((0,e.wg)(),(0,e.iD)("div",{key:t?.result},[(0,e._)("div",v,(0,m.zw)(t?.string),1),(0,e._)("div",b,(0,m.zw)(t?.result),1)])))),128))]),(0,e._)("div",p,[(0,e._)("div",{ref:"mathString"},(0,m.zw)(o._shortStr(r.mathString,16)||0),513)],512)])}var _={name:"VCalcField",props:{mathString:{type:[String,Number],default:""},result:{type:[String,Number],default:"0"},history:{type:Object,default:null}},methods:{_shortStr(t,n){return n?t.slice(0,n):t}}},y=r(89);const w=(0,y.Z)(_,[["render",S],["__scopeId","data-v-28833c0c"]]);var C=w;const k={class:"v-math-button"},O=["disabled"];function V(t,n,r,i,s,o){return(0,e.wg)(),(0,e.iD)("div",k,[(0,e._)("button",{disabled:r.disabled,onClick:n[0]||(n[0]=()=>t.$emit("onClick",r.button))},(0,m.zw)(r.button),9,O)])}var j={name:"VCalcMathButton",props:{button:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}}};const D=(0,y.Z)(j,[["render",V],["__scopeId","data-v-64ed3a37"]]);var B=D;const q={class:"v-num-button"},x=["disabled"];function L(t,n,r,i,s,o){return(0,e.wg)(),(0,e.iD)("div",q,[(0,e._)("button",{type:"button",disabled:r.disabled,onClick:n[0]||(n[0]=()=>t.$emit("onClick",r.number))},(0,m.zw)(r.number),9,x)])}var M={name:"VCalcNumButton",props:{number:{type:[Number,String],required:!0},disabled:{type:Boolean,default:!1}}};const F=(0,y.Z)(M,[["render",L],["__scopeId","data-v-6f42de32"]]);var N=F,R={name:"VCalculator",components:{VCalcField:C,VCalcMathButton:B,VCalcNumButton:N},data(){return{config:{maxLength:null,historyLength:2,numButtons:[7,8,9,4,5,6,1,2,3,0,"."],mathButtons:["+","-","*","/","sqrt","**","=","C"]},mathString:"",showResult:!1,numbers:[],actions:[],mathActions:{sqrt:"sqrt",clear:"C",result:"="},result:null,history:[]}},computed:{numDisabled(){const t={maxLength:()=>!!this.config.maxLength&&this.mathString?.length>=this.config.maxLength,ifLastSymbolNotMath:()=>!!this.mathString?.length&&")"===this._last(this.mathString)};return t.maxLength()||t.ifLastSymbolNotMath()},mathDisabled(){return this.mathString?.length<=0}},methods:{addSymbolToString(t){const n=this.mathString?.toString(),r=this._last(n),i=n.length&&isFinite(r);switch(this.showResult=!1,t.toString()){case this.mathActions.result:return this.showResult=!0;case this.mathActions.clear:return this.clear();case this.mathActions.sqrt:return this.stringToSqrt();default:i||isFinite(t)||")"===r?this.mathString+=t.toString():this.mathString=this._setLast(this.mathString,t)}},getResult(){isFinite(this._last(this.mathString))||")"===this._last(this.mathString)||(this.mathString=this.mathString.slice(0,-1));const t=Function("return "+this.mathString.replaceAll("sqrt","Math.sqrt"));return t()},setResults(){this.result=this.getResult();const t={id:Date.now(),string:this.mathString,result:this.result};this.history.push(t),this.history.length>=this.config.historyLength&&this.history.shift(),this.mathString=0===this.result?"":this.result.toString()},stringToSqrt(){if(")"===this._last(this.mathString))return;const t=[];for(let s=this._lastIndex(this.mathString);s>=0;s--){const n=this.mathString[s];if(!isFinite(n))break;t.push(n)}const n=t.join(""),r=this._reverse(this.mathString),i=this._reverse(`sqrt(${n})`),e=this._reverse(r.replace(n,i));return this.mathString=e,e},clear(){this.mathString=""},_last(t){return t[t?.length-1]},_lastIndex(t){return t?.length-1},_reverse(t){return t?.split("").reverse().join("")},_setLast(t,n){return t.slice(0,-1)+n}},watch:{showResult(t){t&&this.setResults()}}};const T=(0,y.Z)(R,[["render",d]]);var A=T,Z={name:"VMain",components:{VCalculator:A}};const z=(0,y.Z)(Z,[["render",o]]);var I=z,H={name:"App",components:{VMain:I},mounted(){console.log("Vue Project Run")}};const K=(0,y.Z)(H,[["render",s]]);var P=K;(0,i.ri)(P).mount("#app")}},n={};function r(i){var e=n[i];if(void 0!==e)return e.exports;var s=n[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(n,i,e,s){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],e=t[c][1],s=t[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(r.O).every((function(t){return r.O[t](i[l])}))?i.splice(l--,1):(a=!1,s<o&&(o=s));if(a){t.splice(c--,1);var u=e();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[i,e,s]}}(),function(){r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,{a:n}),n}}(),function(){r.d=function(t,n){for(var i in n)r.o(n,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};r.O.j=function(n){return 0===t[n]};var n=function(n,i){var e,s,o=i[0],a=i[1],l=i[2],u=0;if(o.some((function(n){return 0!==t[n]}))){for(e in a)r.o(a,e)&&(r.m[e]=a[e]);if(l)var c=l(r)}for(n&&n(i);u<o.length;u++)s=o[u],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(c)},i=self["webpackChunkcalculator"]=self["webpackChunkcalculator"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(4868)}));i=r.O(i)})();
//# sourceMappingURL=app.42804e48.js.map